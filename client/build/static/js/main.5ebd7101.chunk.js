(this.webpackJsonpcrudmernstack=this.webpackJsonpcrudmernstack||[]).push([[0],{100:function(e,t,a){},199:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a(3),r=a.n(n),s=a(24),o=a.n(s),l=(a(99),a(100),a(101),a(8)),i=a(9),u=a.n(i),j=a(13),b=a(5),d=a(89),p=a(16),m=a.n(p),h=a(25),O=a.n(h),x=a(90),f=a.n(x),g=a(205),v=function(e){var t=e.user,a=e.reload,r=Object(n.useState)(!1),s=Object(b.a)(r,2),o=s[0],i=s[1];function d(){i(!1)}var p=Object(n.useState)(!1),h=Object(b.a)(p,2),x=(h[0],h[1],t.noteTitle),v=t.message,y=t._id,N=t.startDate,w=t.endDate,S=t.autoDelete,k=Object(l.e)(),I=function(){var e=Object(j.a)(u.a.mark((function e(t){var c,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.delete("http://localhost:4000/delete/".concat(t));case 2:c=e.sent,n=c.data,alert(n.message),a();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:x}),Object(c.jsx)("td",{children:Object(c.jsx)(g.a,{onClick:function(){i(!0)}})}),Object(c.jsx)("td",{children:O()(N).format("DD-MM-YYYY")}),Object(c.jsx)("td",{children:O()(w).format("DD-MM-YYYY")}),Object(c.jsx)("td",{children:Object(c.jsx)("input",{id:"autocomple",type:"checkbox",checked:S})}),Object(c.jsxs)("td",{children:[Object(c.jsx)("button",{onClick:function(){var e;e=t,k.push("/create/".concat(e._id))},type:"button",className:"btn btn-primary mr-1",children:"Edit"}),Object(c.jsx)("button",{onClick:function(){return I(y)},type:"button",className:"btn btn-primary ml-1",children:"Delete"})]})]}),Object(c.jsx)("div",{children:Object(c.jsxs)(f.a,{isOpen:o,onRequestClose:d,style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"60%",textAlign:"center",posistion:"relative",height:"auto",wordWrap:"break-word"}},contentLabel:"Example Modal",children:[Object(c.jsx)("p",{className:"text-danger",children:"Description"}),Object(c.jsx)("button",{style:{position:"absolute",right:"10px",top:"10px"},className:"btn btn-close",onClick:d,children:"x"}),Object(c.jsx)("p",{children:v})]})})]})},y=function(){var e=Object(l.e)(),t=localStorage.getItem("user"),a=Object(n.useState)([]),r=Object(b.a)(a,2),s=r[0],o=r[1],i=Object(n.useState)(!0),p=Object(b.a)(i,2),h=p[0],O=p[1];return console.log(s),Object(n.useEffect)((function(){var t=localStorage.getItem("userId");t?function(){var e=Object(j.a)(u.a.mark((function e(){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post("/hello",{userId:t});case 2:a=e.sent,c=a.data,o(c),d.animateScroll.scrollToBottom({containerId:"options-holder"});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()():e.push("/")}),[h,e]),Object(c.jsxs)("div",{children:[Object(c.jsxs)("h2",{className:"display-8",children:["Hello, ",Object(c.jsx)("span",{className:" text-primary",children:t})]}),Object(c.jsxs)("div",{className:"my-3",children:[Object(c.jsx)("button",{type:"button",className:"btn btn-success ml-3",onClick:function(){e.push("/create")},children:"Create"}),Object(c.jsx)("button",{type:"button",className:"btn btn-success ml-3",children:"History Delete"}),Object(c.jsx)("button",{onClick:function(){localStorage.clear(),e.push("/")},type:"button",className:"btn btn-success ml-3",children:"Log Out"})]}),0===s.length?"Loading...":Object(c.jsxs)("table",{className:"table",children:[Object(c.jsx)("thead",{className:"thead-dark ",children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"col",children:"Note"}),Object(c.jsx)("th",{scope:"col",children:"Description"}),Object(c.jsx)("th",{scope:"col",children:"From"}),Object(c.jsx)("th",{scope:"col",children:"To"}),Object(c.jsx)("th",{scope:"col",children:"Auto remove"}),Object(c.jsx)("th",{scope:"col",children:"Action"})]})}),Object(c.jsx)("tbody",{children:s.map((function(e){return Object(c.jsx)(v,{reload:function(){return O(!h)},user:e},e._id)}))})]})]})};var N=function(e){var t=Object(l.f)().id;return Object(c.jsxs)("div",{children:["edit user component : ",t]})},w=a(63),S=a.n(w);a(141);var k=function(){var e=localStorage.getItem("user"),t=Object(l.f)().userId,a=Object(l.e)(),r=Object(n.useState)(""),s=Object(b.a)(r,2),o=s[0],i=s[1],d=Object(n.useState)(""),p=Object(b.a)(d,2),h=p[0],x=p[1],f=Object(n.useState)(new Date),g=Object(b.a)(f,2),v=g[0],y=g[1],N=Object(n.useState)(new Date),w=Object(b.a)(N,2),k=w[0],I=w[1],D=Object(n.useState)(!1),C=Object(b.a)(D,2),F=C[0],E=C[1],P=Object(n.useState)({}),M=Object(b.a)(P,2),T=(M[0],M[1]),Y=Object(n.useState)(!1),L=Object(b.a)(Y,2),A=L[0],R=L[1];console.log("buttonUpdateCheck",A);var B=function(e,t){O.a.isMoment(e)||(e=O()(e));O.a.isMoment(t)||(t=O()(t));return t.diff(e,"days")}(v,k);console.log(v,k,F);var H=function(){var e=Object(j.a)(u.a.mark((function e(t){var c,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""===o||""===h){e.next=12;break}return i(""),x(""),c=localStorage.getItem("userId"),console.log("userId",c),e.next=8,m.a.post("/create",{notetitle:o,message:h,userId:c,startDate:v,endDate:k,radiobutton:F});case 8:n=e.sent,r=n.data,console.log(r),a.push("/user");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(j.a)(u.a.mark((function e(){var c,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(""!=o&&""!=h&&B>=0)){e.next=9;break}return e.next=3,m.a.put("/userupdate/".concat(t),{notetitle:o,message:h,startDate:v,endDate:k,radiobutton:F});case 3:c=e.sent,n=c.data,console.log(n),a.push("/user"),e.next=10;break;case 9:alert("check Info again");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){R(!0),t&&function(){var e=Object(j.a)(u.a.mark((function e(){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/messageInfo/".concat(t));case 2:a=e.sent,c=a.data,T(c),R(!1),i(c.noteTitle),x(c.message),E(c.autoDelete);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]),Object(n.useEffect)((function(){e||a.push("/")})),Object(c.jsx)("div",{children:Object(c.jsxs)("form",{onSubmit:H,className:"mx-auto",style:{width:"500px"},children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"notetitle",children:"Note"}),Object(c.jsx)("input",{className:"form-control",id:"notetitle",placeholder:"Enter Your Note Name",value:o,onChange:function(e){i(e.target.value)}})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"message",children:"Description"}),Object(c.jsx)("textarea",{className:"form-control",id:"message",placeholder:"message",value:h,onChange:function(e){x(e.target.value)}})]}),Object(c.jsx)("p",{children:"Time complete"}),Object(c.jsxs)("div",{className:"row my-3",children:[Object(c.jsx)("div",{className:"col-md-6 col-12",children:Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"Fromdate",className:"font-weight-bolder mr-3",children:"From Date "}),Object(c.jsx)(S.a,{selected:v,onChange:function(e){y(e)},className:"form-control"})]})}),Object(c.jsx)("div",{className:"col-md-6 col-12",children:Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"Todate",className:"font-weight-bolder mr-3",children:"To Date "}),Object(c.jsx)(S.a,{selected:k,onChange:function(e){return I(e)},className:"form-control"})]})}),B<0&&Object(c.jsx)("p",{className:"mx-auto",style:{color:"red"},children:"Check your date again"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"radiobutton"}),Object(c.jsx)("input",{type:"radio",id:"radiobutton",checked:F,onClick:function(){E(!F)}})," Auto delete when day is expired"]}),Object(c.jsx)("br",{}),t?Object(c.jsx)("button",{type:"button",onClick:_,disabled:A?"true":"",className:"btn btn-primary",children:"Update"}):Object(c.jsx)("button",{type:"submit",disabled:B<0&&!0,className:"btn btn-primary",children:"Submit"})]})})},I=a(18);var D=function(){var e=Object(l.e)(),t=Object(n.useState)(""),a=Object(b.a)(t,2),r=a[0],s=a[1],o=Object(n.useState)(""),i=Object(b.a)(o,2),d=i[0],p=i[1],h=Object(n.useState)(""),O=Object(b.a)(h,2),x=O[0],f=O[1],g=function(){var t=Object(j.a)(u.a.mark((function t(a){var c,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),localStorage.clear(),f(""),t.prev=3,t.next=6,m.a.post("/signin",{email:r,password:d});case 6:c=t.sent,n=c.data,console.log("datauserId",n.userId),alert("Welcome ".concat(n.email," login success")),e.push("/user"),localStorage.setItem("user",n.email),localStorage.setItem("userId",n.userId),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(3),f(t.t0.response.data.message);case 18:case"end":return t.stop()}}),t,null,[[3,15]])})));return function(e){return t.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"login px-5 py-5 mx-auto border border-primary",style:{width:"700px"},children:[Object(c.jsx)("p",{className:"display-4",children:"Login"}),Object(c.jsxs)("form",{onSubmit:g,children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Email address"}),Object(c.jsx)("input",{value:r,type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email",onChange:function(e){return s(e.target.value)}})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Password"}),Object(c.jsx)("input",{value:d,type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password",onChange:function(e){return p(e.target.value)}})]}),x&&Object(c.jsx)("div",{className:"alert alert-danger",role:"alert",children:x}),Object(c.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)(I.b,{to:"/register",children:"Dont have Account ? Register"})]})]})};var C=function(){var e=Object(l.e)(),t=Object(n.useState)(""),a=Object(b.a)(t,2),r=a[0],s=a[1],o=Object(n.useState)(""),i=Object(b.a)(o,2),d=i[0],p=i[1],h=Object(n.useState)(""),O=Object(b.a)(h,2),x=O[0],f=O[1],g=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),f(""),d.length<=3?f("Password must more than 3 characters"):v();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var t=Object(j.a)(u.a.mark((function t(){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.post("/register",{email:r,password:d});case 3:a=t.sent,c=a.data,console.log(c),s(""),p(""),alert("Register success with email ".concat(r)),localStorage.clear(),e.push("/"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),f(t.t0.response.data.message);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"login px-5 py-5 mx-auto border border-primary",style:{width:"700px"},children:[Object(c.jsx)("p",{className:"display-4",children:"Register"}),Object(c.jsxs)("form",{onSubmit:g,children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Email address"}),Object(c.jsx)("input",{value:r,type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email",onChange:function(e){return s(e.target.value)}})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Password"}),Object(c.jsx)("input",{value:d,type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password",onChange:function(e){return p(e.target.value)}})]}),x&&Object(c.jsx)("div",{className:"alert alert-danger",role:"alert",children:x}),Object(c.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)(I.b,{to:"/",children:"Back to Login"})]})]})},F=function(){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("h1",{className:"text-danger",children:"Schedule Management"}),Object(c.jsx)(l.a,{path:"/",exact:!0,component:D}),Object(c.jsx)(l.a,{path:"/register",component:C}),Object(c.jsx)(l.a,{path:"/user",exact:!0,component:y}),Object(c.jsx)(l.a,{path:"/edit/:id",component:N}),Object(c.jsx)(l.a,{path:"/create",component:k,exact:!0}),Object(c.jsx)(l.a,{path:"/create/:userId",component:k})]})},E=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,206)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(I.a,{children:Object(c.jsx)(F,{})})}),document.getElementById("root")),E()},99:function(e,t,a){}},[[199,1,2]]]);
//# sourceMappingURL=main.5ebd7101.chunk.js.map